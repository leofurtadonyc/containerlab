name: nokia-sr-mpls

mgmt:
  network: clab
  ipv4-subnet: 172.20.20.0/24

topology:
  kinds:
    nokia_srsim:
      image: localhost/nokia/srsim:25.10.R2
      license: ./license.txt

  nodes:
    CPE-A1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.101
      startup-config: ./configs/lab1-ipaddr/CPE-A1.partial.cfg
      labels:
        loopback-ipv4: "172.16.255.1/32"
        loopback-ipv6: "2001:db8:a:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CPE-A2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.102
      startup-config: ./configs/lab1-ipaddr/CPE-A2.partial.cfg
      labels:
        loopback-ipv4: "172.16.255.2/32"
        loopback-ipv6: "2001:db8:a:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CPE-B1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.103
      startup-config: ./configs/lab1-ipaddr/CPE-B1.partial.cfg
      labels:
        loopback-ipv4: "172.17.255.1/32"
        loopback-ipv6: "2001:db8:b:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CPE-B2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.104
      startup-config: ./configs/lab1-ipaddr/CPE-B2.partial.cfg
      labels:
        loopback-ipv4: "172.17.255.2/32"
        loopback-ipv6: "2001:db8:b:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CPE-C1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.133
      startup-config: ./configs/lab1-ipaddr/CPE-C1.partial.cfg
      labels:
        loopback-ipv4: "172.18.255.1/32"
        loopback-ipv6: "2001:db8:c:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CPE-C2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.134
      startup-config: ./configs/lab1-ipaddr/CPE-C2.partial.cfg
      labels:
        loopback-ipv4: "172.18.255.2/32"
        loopback-ipv6: "2001:db8:c:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    NOC-R1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.105
      startup-config: ./configs/lab1-ipaddr/NOC-R1.partial.cfg
      labels:
        loopback-ipv4: "10.255.0.1/32"
        loopback-ipv6: "2001:db8:noc:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    NOC-R2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.106
      startup-config: ./configs/lab1-ipaddr/NOC-R2.partial.cfg
      labels:
        loopback-ipv4: "10.255.0.2/32"
        loopback-ipv6: "2001:db8:noc:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    PE1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.107
      startup-config: ./configs/lab1-ipaddr/PE1.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.11/32"
        loopback-ipv6: "2001:db8:65:255::11/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    PE2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.108
      startup-config: ./configs/lab1-ipaddr/PE2.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.12/32"
        loopback-ipv6: "2001:db8:65:255::12/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.109
      startup-config: ./configs/lab1-ipaddr/P1.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.1/32"
        loopback-ipv6: "2001:db8:65:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.110
      startup-config: ./configs/lab1-ipaddr/P2.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.2/32"
        loopback-ipv6: "2001:db8:65:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P3:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.111
      startup-config: ./configs/lab1-ipaddr/P3.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.3/32"
        loopback-ipv6: "2001:db8:65:255::3/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P4:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.112
      startup-config: ./configs/lab1-ipaddr/P4.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.4/32"
        loopback-ipv6: "2001:db8:65:255::4/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P5:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.113
      startup-config: ./configs/lab1-ipaddr/P5.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.5/32"
        loopback-ipv6: "2001:db8:65:255::5/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P6:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.114
      startup-config: ./configs/lab1-ipaddr/P6.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.6/32"
        loopback-ipv6: "2001:db8:65:255::6/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P7:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.115
      startup-config: ./configs/lab1-ipaddr/P7.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.7/32"
        loopback-ipv6: "2001:db8:65:255::7/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    P8:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.116
      startup-config: ./configs/lab1-ipaddr/P8.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.8/32"
        loopback-ipv6: "2001:db8:65:255::8/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    PE3:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.117
      startup-config: ./configs/lab1-ipaddr/PE3.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.13/32"
        loopback-ipv6: "2001:db8:65:255::13/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    PE4:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.118
      startup-config: ./configs/lab1-ipaddr/PE4.partial.cfg
      labels:
        loopback-ipv4: "100.65.255.14/32"
        loopback-ipv6: "2001:db8:65:255::14/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-PE1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.119
      startup-config: ./configs/lab1-ipaddr/CSC1-PE1.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.11/32"
        loopback-ipv6: "2001:db8:64:255::11/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-PE2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.120
      startup-config: ./configs/lab1-ipaddr/CSC1-PE2.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.12/32"
        loopback-ipv6: "2001:db8:64:255::12/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-P1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.121
      startup-config: ./configs/lab1-ipaddr/CSC1-P1.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.1/32"
        loopback-ipv6: "2001:db8:64:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-P2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.122
      startup-config: ./configs/lab1-ipaddr/CSC1-P2.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.2/32"
        loopback-ipv6: "2001:db8:64:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-P3:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.123
      startup-config: ./configs/lab1-ipaddr/CSC1-P3.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.3/32"
        loopback-ipv6: "2001:db8:64:255::3/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC1-P4:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.124
      startup-config: ./configs/lab1-ipaddr/CSC1-P4.partial.cfg
      labels:
        loopback-ipv4: "100.64.255.4/32"
        loopback-ipv6: "2001:db8:64:255::4/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    ISP1-R1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.125
      startup-config: ./configs/lab1-ipaddr/ISP1-R1.partial.cfg
      labels:
        loopback-ipv4: "1.1.255.1/24"
        loopback-ipv6: "2001:db8:1:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    ISP2-R1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.126
      startup-config: ./configs/lab1-ipaddr/ISP2-R1.partial.cfg
      labels:
        loopback-ipv4: "2.2.255.1/24"
        loopback-ipv6: "2001:db8:2:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-PE1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.127
      startup-config: ./configs/lab1-ipaddr/CSC2-PE1.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.11/32"
        loopback-ipv6: "2001:db8:66:255::11/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-PE2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.128
      startup-config: ./configs/lab1-ipaddr/CSC2-PE2.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.12/32"
        loopback-ipv6: "2001:db8:66:255::12/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-P1:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.129
      startup-config: ./configs/lab1-ipaddr/CSC2-P1.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.1/32"
        loopback-ipv6: "2001:db8:66:255::1/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-P2:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.130
      startup-config: ./configs/lab1-ipaddr/CSC2-P2.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.2/32"
        loopback-ipv6: "2001:db8:66:255::2/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-P3:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.131
      startup-config: ./configs/lab1-ipaddr/CSC2-P3.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.3/32"
        loopback-ipv6: "2001:db8:66:255::3/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

    CSC2-P4:
      kind: nokia_srsim
      memory: 4GB
      type: sr-1
      mgmt-ipv4: 172.20.20.132
      startup-config: ./configs/lab1-ipaddr/CSC2-P4.partial.cfg
      labels:
        loopback-ipv4: "100.66.255.4/32"
        loopback-ipv6: "2001:db8:66:255::4/128"
      components:
        - mda:
            - slot: 1
              type: me12-100gb-qsfp28

  links:
    - endpoints: ["CPE-A1:1/1/c1/1", "PE1:1/1/c1/1"]
    - endpoints: ["CPE-A2:1/1/c3/1", "PE3:1/1/c3/1"]
    - endpoints: ["CPE-B1:1/1/c1/1", "PE2:1/1/c1/1"]
    - endpoints: ["CPE-B2:1/1/c3/1", "PE4:1/1/c3/1"]
    - endpoints: ["CPE-C1:1/1/c1/1", "CSC2-PE1:1/1/c1/1"]
    - endpoints: ["CPE-C2:1/1/c1/1", "CSC2-PE2:1/1/c1/1"]
    - endpoints: ["NOC-R1:1/1/c5/1", "PE2:1/1/c5/1"]
    - endpoints: ["NOC-R2:1/1/c5/1", "PE4:1/1/c5/1"]
    - endpoints: ["PE1:1/1/c2/1", "P2:1/1/c2/1"]
    - endpoints: ["PE1:1/1/c3/1", "P1:1/1/c3/1"]
    - endpoints: ["PE2:1/1/c2/1", "P1:1/1/c2/1"]
    - endpoints: ["PE2:1/1/c3/1", "P2:1/1/c3/1"]
    - endpoints: ["P1:1/1/c4/1", "P2:1/1/c4/1"]
    - endpoints: ["P1:1/1/c5/1", "P3:1/1/c5/1"]
    - endpoints: ["P2:1/1/c5/1", "P4:1/1/c5/1"]
    - endpoints: ["P3:1/1/c3/1", "P4:1/1/c3/1"]
    - endpoints: ["P3:1/1/c4/1", "P5:1/1/c4/1"]
    - endpoints: ["P4:1/1/c4/1", "P6:1/1/c4/1"]
    - endpoints: ["P5:1/1/c3/1", "P6:1/1/c3/1"]
    - endpoints: ["P5:1/1/c1/1", "P7:1/1/c1/1"]
    - endpoints: ["P6:1/1/c1/1", "P8:1/1/c1/1"]
    - endpoints: ["P7:1/1/c2/1", "PE4:1/1/c2/1"]
    - endpoints: ["P7:1/1/c3/1", "P8:1/1/c3/1"]
    - endpoints: ["P7:1/1/c4/1", "PE3:1/1/c4/1"]
    - endpoints: ["P8:1/1/c2/1", "PE3:1/1/c2/1"]
    - endpoints: ["P8:1/1/c4/1", "PE4:1/1/c4/1"]
    - endpoints: ["P1:1/1/c6/1", "CSC1-PE1:1/1/c6/1"]
    - endpoints: ["P7:1/1/c6/1", "CSC1-PE2:1/1/c6/1"]
    - endpoints: ["CSC1-PE1:1/1/c1/1", "ISP1-R1:1/1/c1/1"]
    - endpoints: ["CSC1-PE2:1/1/c1/1", "ISP2-R1:1/1/c1/1"]
    - endpoints: ["CSC1-PE1:1/1/c2/1", "CSC1-P1:1/1/c2/1"]
    - endpoints: ["CSC1-PE1:1/1/c3/1", "CSC1-P2:1/1/c3/1"]
    - endpoints: ["CSC1-PE2:1/1/c2/1", "CSC1-P3:1/1/c2/1"]
    - endpoints: ["CSC1-PE2:1/1/c3/1", "CSC1-P4:1/1/c2/1"]
    - endpoints: ["CSC1-P1:1/1/c1/1", "CSC1-P3:1/1/c1/1"]
    - endpoints: ["CSC1-P2:1/1/c1/1", "CSC1-P4:1/1/c1/1"]
    - endpoints: ["P2:1/1/c6/1", "CSC2-PE1:1/1/c6/1"]
    - endpoints: ["P8:1/1/c6/1", "CSC2-PE2:1/1/c6/1"]
    - endpoints: ["CSC2-PE1:1/1/c2/1", "CSC2-P1:1/1/c2/1"]
    - endpoints: ["CSC2-PE1:1/1/c3/1", "CSC2-P2:1/1/c3/1"]
    - endpoints: ["CSC2-PE2:1/1/c2/1", "CSC2-P3:1/1/c2/1"]
    - endpoints: ["CSC2-PE2:1/1/c3/1", "CSC2-P4:1/1/c3/1"]
    - endpoints: ["CSC2-P1:1/1/c1/1", "CSC2-P3:1/1/c1/1"]
    - endpoints: ["CSC2-P2:1/1/c1/1", "CSC2-P4:1/1/c1/1"]
